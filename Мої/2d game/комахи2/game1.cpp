//---------------------------------------------------------------------------
#pragma hdrstop
#include "game1.h"
//---------------------------------------------------------------------------
void push_back(_TList &list,_TListItem *t)
{
    if(list.last)
    {
        list.last->next=t;
        t->next=NULL;
        t->prev=list.last;
        list.last=t;
    }
    else
    {
        list.first=t;
        t->next=t->prev=NULL;
        list.last=list.first;
    }
}
//---------------------------------------------------------------------------
void _DeleteList(_TListItem*&t)
{
    if(t)
    {
        _DeleteList(t->next);
        free(t);
        t=NULL;
    }
}
//---------------------------------------------------------------------------
void DeleteList(_TList &list)
{
    _DeleteList(list.first);
    list.first=list.last=NULL;
}
//---------------------------------------------------------------------------
int DeleteItem(_TList &list,_TListItem *&t)
{
    _TListItem *p;
    p=t;
    if(!t)
    {
        return 0;
    }
    if(!t->prev)
    {
        if(!t->next)
        {
            list.first=list.last=NULL;
        }
        else
        {
            list.first=p->next;
            p->next->prev=NULL;
            p->next=NULL;
        }
    }
    else
    {
        if(!t->next)
        {
            list.last=p->prev;
            p->prev->next=NULL;
            p->prev=NULL;
        }
        else
        {
            p->prev->next=p->next;
            p->next->prev=p->prev;
            p->next=NULL;
            p->prev=NULL;
        }
    }
    free(t);
    t=NULL;
    return 1;
}
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
#pragma package(smart_init)

