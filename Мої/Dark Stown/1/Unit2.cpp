//---------------------------------------------------------------------------
#pragma hdrstop
#include "Unit2.h"
#pragma package(smart_init)
//---------------------------------------------------------------------------
void T_Track::AddObject(const T_Object &obj)
{
    if(N)
    {
        int i;
        T_Object **buf=new T_Object*[N];
        for(i=0;i<N;i++)
        {
            buf[i]=Obj[i];
        }
        N++;
        delete Obj;
        Obj=new T_Object*[N];
        for(i=0;i<N-1;i++)
        {
            Obj[i]=buf[i];
        }
        Obj[i]=new T_Object(obj);
        delete buf;
    }
    else
    {
        N=1;
        Obj=new T_Object*[N];
        Obj[0]=new T_Object(obj);
    }
}
//---------------------------------------------------------------------------
T_Track::T_Track()
{
    N=0;
    Obj=NULL;
}
//---------------------------------------------------------------------------
T_Track::~T_Track()
{
    int i;
    for(i=0;i<N;i++)
    {
        delete Obj[i];
    }
    delete Obj;
    N=0;
    Obj=NULL;
}
//---------------------------------------------------------------------------
void T_Track::AllMove()
{
    int i;
    for(i=0;i<N;i++)
    {
        if(Border.hasPoint(Obj[i]->Siting+Obj[i]->Speed))
        {
            Obj[i]->Siting=Obj[i]->Siting+Obj[i]->Speed;
        }
    }
}
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
 