//---------------------------------------------------------------------------
#pragma hdrstop
#include "ABC.h"
#pragma package(smart_init)
//---------------------------------------------------------------------------
ABC::ABC()
{
    n=0;
    Letters=NULL;
}
//---------------------------------------------------------------------------
ABC::~ABC()
{
    n=0;
    delete Letters;
}
//---------------------------------------------------------------------------
bool ABC::operator == (char c)
{
    int i;
    for(i=0;i<n;i++)
    {
        if(c==Letters[i])
        {
            return true;
        }
    }
    return false;
}
//---------------------------------------------------------------------------
void ABC::SaveToFile(char *fname)
{
    FILE *f;
    f=fopen(fname,"wb");
    fwrite(&n,1,sizeof(int),f);
    fwrite(Letters,n,sizeof(char),f);
    fclose(f);
}
//---------------------------------------------------------------------------
void ABC::LoadFromFile(char *fname)
{
    FILE *f;
    f=fopen(fname,"rb");
    delete Letters;
    n=0;
    fread(&n,1,sizeof(int),f);
    Letters=new char[n];
    fread(Letters,n,sizeof(char),f);
    fclose(f);
}
//---------------------------------------------------------------------------
int ABC::AddLetters(char c)
{
    int i;
    char *buf;
    i=0;
    while(i<n && c!=Letters[i])
    {
        i++;
    }
    if(i<n)
    {
        return i;
    }
    buf=new char[n];
    for(i=0;i<n;i++)
    {
        buf[i]=Letters[i];
    }
    delete Letters;
    n++;
    Letters=new char[n];
    for(i=0;i<n-1;i++)
    {
        Letters[i]=buf[i];
    }
    Letters[i]=c;
    return i;
}
//---------------------------------------------------------------------------
ABC::ABC(const ABC &a)
{
    int i;
    n=a.n;
    Letters=new char[n];
    for(i=0;i<n;i++)
    {
        Letters[i]=a.Letters[i];
    }
}
//---------------------------------------------------------------------------
ABC& ABC::operator = (const ABC &a)
{
    int i;
    if(this==&a)
    {
        return *this;
    }
    n=a.n;
    Letters=new char[n];
    for(i=0;i<n;i++)
    {
        Letters[i]=a.Letters[i];
    }
    return *this;
}
//---------------------------------------------------------------------------
char ABC::operator [] (int i)
{
    if(i<0 || i>=n)
    {
        return Letters[0];
    }
    return Letters[i];
}
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
