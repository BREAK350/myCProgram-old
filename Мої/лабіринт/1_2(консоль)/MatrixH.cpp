//---------------------------------------------------------------------------
#pragma hdrstop
#include "MatrixH.h"
#pragma package(smart_init)
//---------------------------------------------------------------------------
TMatrix::TMatrix()
{
    mP=mN=mN=0;
    L=NULL;
}
//---------------------------------------------------------------------------
TMatrix::~TMatrix()
{
    int i,j;
    for(i=0;i<mP;i++)
    {
        for(j=0;j<mN;j++)
        {
            delete L[i][j];
        }
        delete L[i];
    }
    delete L;
    L=NULL;
}
//---------------------------------------------------------------------------
void TMatrix::SaveToFile(char *fname)
{
    FILE *f;
    f=fopen(fname,"wb");
    fwrite(&mP,1,sizeof(int),f);
    fwrite(&mN,1,sizeof(int),f);
    fwrite(&mM,1,sizeof(int),f);
    fwrite(L,mP*mP*mM,sizeof(char),f);
    fclose(f);
}
//---------------------------------------------------------------------------
void TMatrix::LoadFromFile(char *fname)
{
    FILE *f;
    f=fopen(fname,"rb");
    if(!f)
    {
        return;
    }
    fread(&mP,1,sizeof(int),f);
    fread(&mN,1,sizeof(int),f);
    fread(&mM,1,sizeof(int),f);
    fread(L,mP*mN*mM,sizeof(char),f);
    fclose(f);
}
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
 