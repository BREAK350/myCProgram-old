//---------------------------------------------------------------------------
#pragma hdrstop
#pragma argsused
#include <iostream.h>
#include <conio.h>
//---------------------------------------------------------------------------
void Prot(int *a,const int &n)
{
    int i,x;
    for(i=0;i<n/2;i++)
    {
        x=a[i];
        a[i]=a[n-1-i];
        a[n-1-i]=x;
    }
}
//---------------------------------------------------------------------------
void NextPer(int *a,const int &n)
{
    int i,j,x;
    j=n-1;
    do
    {
        x=a[j];
        i=j-1;
        while(i>=0 && x<a[i])
        {
            i--;
        }
        if(i>=0)
        {
            a[j]=a[i];
            a[i]=x;
            Prot(a+i+1,n-i-1);
        }
        else
        {
            j--;
        }
    }
    while(i<0 && j>=0);
}
//---------------------------------------------------------------------------
void Print(int *a,const int &n)
{
    int i;
    for(i=0;i<n;i++)
    {
        cout<<a[i]<<' ';
    }
}
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
int main(int argc, char* argv[])
{
    int a[]={1,2,3,4,5},i,j,n=4;
    for(i=0;i<25;i++)
    {
        Print(a,n);
        cout<<endl;
        NextPer(a,n);
    }
    getch();
    return 0;
}
//---------------------------------------------------------------------------
 