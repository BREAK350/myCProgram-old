//---------------------------------------------------------------------------
#pragma hdrstop
#include "TlistH.h"
#pragma package(smart_init)
//---------------------------------------------------------------------------
mTListItem2::mTListItem2()
{
    next=prev=NULL;
}
//---------------------------------------------------------------------------
mTList::mTList()
{
    first=new mTListItem2;
    last=first;
    first->SetA(0);
}
//---------------------------------------------------------------------------
void mTListItem2::AddItemPrev(mTListItem2 *&L)
{
    if(!prev)
    {
        prev=L;
        L->next=this;
    }
    else
    {
        L->next=this;
        L->prev=prev;
        prev->next=L;
        prev=L;
    }
}
//---------------------------------------------------------------------------
void mTListItem2::AddItemNext(mTListItem2 *&L)
{
    if(!next)
    {
        next=L;
        L->prev=this;
    }
    else
    {
        L->next=next;
        L->prev=this;
        next->prev=L;
        next=L;
    }
}
//---------------------------------------------------------------------------
void mTList::AddItem(mTListItem2 *&L)
{
    mTListItem2 *s;
    s=Search(L);
    if(!s)
    {
        last->AddItemNext(L);
        last=L;
    }
    else
    {
        s->AddItemPrev(L);
        if(s==first)
        {
            first=L;
        }
    }
}
//---------------------------------------------------------------------------
mTListItem2* mTList::Search(mTListItem2 *L)
{
    mTListItem2 *s;
    s=first;
    while( s && L->GetA()>s->GetA() )
    {
        s=s->GetNext();
    }
    return s;
}
//---------------------------------------------------------------------------
void mTList::CreateNewItem(int _a)
{
    mTListItem2 *s=new mTListItem2;
    s->SetA(_a);
    AddItem(s);
}
//---------------------------------------------------------------------------
void mTList::ShowConsol()
{
    mTListItem2 *s;
    s=first;
    while(s)
    {
        cout<<s->GetA()<<" ";
        s=s->GetNext();
    }
}
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
 